# Попытка попроктиковаться, сделав тестовое задание ([Frontend](https://github.com/KosyanMedia/test-tasks/tree/master/aviasales_frontend))

---

Тестовое задание "завершено": [Aviasales](https://aviasales-test-d09db.web.app/). 

Одна из проблем почему именно "завершено" в том, что фильтр "Все", если он был включен, нужно отключить самостоятельно, он не отключается автоматически при переключении фильтра на, например: "1 пересадка". В то же время, хотелось бы сказать, что задание выполнил сам, но в действительности это не правда, поскольку некоторые из аспектов, в частности: "Обработка ответа с сервера до того, как ответ придёт из-за чего возникала ошибка" и "Фильтры, на которые потрачено больше всего времени" были найдены, подсказаны, так как самостоятельно справиться не смог.

---

## Структура прокта
1. Папка **services** - внутри который находится файл *aviasales-service*,
который отвечает за работу и обращение к серверу для получения билетов
2. Папка **components** - для хранения компонентов. Папки,
которые начиаются с меленькой буквы - это функционильные компоменты,
другие же, которые с большой - это классовые компоненты,
которые используются там, где нужно хранить состояние
3. Папка **images** - где находятся картинки, что используются в проекте.
4. Папка **global-style** - где содержаться *bootstrap-reboot* - минифицированный сброс стилей, *transition* - элементы, для которых следует применить длительность изменений, *variables* - scss-переменные

--- 

### Подробнее о папках и файлах

#### Services 

**aviasales-service**, - в файле происходит обращение к серверу, и обработка ответа,
дабы впоследствии, поступившие данные поступившие в App легко обрабатывались. Там же пришедший объект обрабатывается, создавая новые поля и изменяя данные. Каждый объект содержит одинаковые поля. В объекте there, то есть, вылет отсюда, содержатся поля
- **there_origin**, - отсюда вылет
- **there_departure**, - время вылета
- **there_destination**, - здесь посадка
- **there_travel**, - время прилёта на место
- **there_arrival**, - суммарное количество часов, потреблявшиеся на полёт
- **there_stops**, - массив с пересадками
- **there_duration**, - общее время полёта в минутах

В то же время, в aviasales-service содержаться методы, которые изменяет данные для того, чтобы в App они поступали в нужном виде, а в ticket-list отображались.

#### Сomponents 
- **App**, - так как это Класс, папка называется с большой буквы. Именно здесь отражается вся информация, получение данных и сохранение их в state
- **calculate-scroll** - при загрузке или если нет билетов, рассчитывает размер скролла и пододвигает body на это расстояние, для избежания рывков при появлении скролла
- **header** - отрисовывает лого
- **item-status-sorting** - верхняя половина с выбором как именно нужно отсортировать билеты
- **preloader** - который показывается до тех пор, пока билеты не будут получены и отрисовы
- **Ticket-list** - поскольку Класс, папка с большой буквы. Получает массив билетов, где проверяется длины массива. Если билетов нет, отображается, сообщение об отсутствии билетов и к body добавляется отступ в размере скролла. Если билеты есть, они попадают в другой компонент. Он их рендерит и возвращает, после они отображаются на странице
- **ticket-list-item** - получаем массив билетов от ticket-list, обрабатывает их и возвращает с нужной разметкой
- **amount-transfers-filter** - отвечает за отрисовку левой колонки с фильтрами и вызывает некоторые функции при изменении
- **tickets-are-available** - сообщение об отсутствии билетов, импортируется в ticket-list

---
